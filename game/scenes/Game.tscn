[gd_scene load_steps=24 format=2]

[ext_resource path="res://textures/skybox.jpg" type="Texture" id=1]
[ext_resource path="res://textures/dot.png" type="Texture" id=2]
[ext_resource path="res://objects/FireRing.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/Game.gd" type="Script" id=4]
[ext_resource path="res://textures/logo.png" type="Texture" id=5]
[ext_resource path="res://textures/jg.png" type="Texture" id=6]
[ext_resource path="res://objects/CaveScene.tscn" type="PackedScene" id=7]
[ext_resource path="res://objects/Ship.tscn" type="PackedScene" id=8]
[ext_resource path="res://objects/ShipArm.gd" type="Script" id=9]

[sub_resource type="SphereMesh" id=1]

[sub_resource type="SpatialMaterial" id=2]
params_blend_mode = 1
albedo_color = Color( 0, 0, 0, 1 )
metallic_specular = 0.0
roughness = 0.0

[sub_resource type="SphereMesh" id=3]
flip_faces = true
radius = 0.95
height = 1.9

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 0, 0, 0, 1 )
metallic_specular = 1.0
roughness = 0.0

[sub_resource type="ViewportTexture" id=13]
flags = 2
viewport_path = NodePath("Viewport")

[sub_resource type="SpatialMaterial" id=14]
resource_local_to_scene = true
flags_unshaded = true
params_specular_mode = 4
params_blend_mode = 1
albedo_color = Color( 0.501961, 0.501961, 0.501961, 1 )
albedo_texture = SubResource( 13 )
uv1_scale = Vector3( -1, 1, 1 )

[sub_resource type="Curve" id=10]
_data = [ Vector2( 0, 0 ), 0.0, 0.0, 0, 0, Vector2( 0.135739, 1 ), 0.0, 0.0, 0, 0, Vector2( 0.513746, 1 ), 0.0, 0.0, 0, 0, Vector2( 1, 0 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="CurveTexture" id=11]
curve = SubResource( 10 )

[sub_resource type="ParticlesMaterial" id=7]
emission_shape = 2
emission_box_extents = Vector3( 100, 100, 100 )
direction = Vector3( 0, 0, 0 )
spread = 180.0
gravity = Vector3( 0, 0, 0 )
initial_velocity = 1.0
initial_velocity_random = 1.0
scale_curve = SubResource( 11 )

[sub_resource type="SpatialMaterial" id=8]
params_blend_mode = 1
params_billboard_mode = 3
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false
albedo_color = Color( 0, 0, 0, 0 )
emission_enabled = true
emission = Color( 0, 0, 0, 1 )
emission_energy = 1.0
emission_operator = 0
emission_on_uv2 = false
emission_texture = ExtResource( 2 )

[sub_resource type="QuadMesh" id=9]
material = SubResource( 8 )
size = Vector2( 0.2, 0.2 )

[sub_resource type="PanoramaSky" id=5]
panorama = ExtResource( 1 )

[sub_resource type="Environment" id=6]
background_mode = 2
background_sky = SubResource( 5 )
dof_blur_far_distance = 1.0
dof_blur_near_distance = 1.0
dof_blur_near_amount = 1.0
glow_enabled = true
glow_levels/1 = true
glow_levels/2 = true
glow_levels/4 = true
glow_levels/6 = true
glow_levels/7 = true
glow_blend_mode = 0

[sub_resource type="Animation" id=12]
resource_name = "intro"
length = 22.0
tracks/0/type = "transform"
tracks/0/path = NodePath("CameraArm/Camera")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = true
tracks/0/enabled = true
tracks/0/keys = PoolRealArray( 0, 1, -8.03871, 27.0966, -49.8606, 0.394522, 0.651622, 0.510291, 0.399179, 1, 1, 1, 6, 1, -8.03871, 27.0966, -49.8606, 0.394522, 0.651622, 0.510291, 0.39918, 1, 1, 1, 6.2, 1, -10.0698, 26.8993, -49.9798, 0.387915, 0.68384, 0.495935, 0.36869, 1, 1, 1, 7.1, 1, -17.9028, 26.0101, -49.7772, 0.3397, 0.793296, 0.447366, 0.234838, 1, 1, 1, 7.9, 1, -24.5035, 24.9286, -49.166, 0.287398, 0.867292, 0.394369, 0.098393, 1, 1, 1, 8.5, 1, -30.1176, 23.6809, -48.1537, 0.237806, 0.910928, 0.335809, -0.0298335, 1, 1, 1, 9.1, 1, -34.7089, 22.3549, -46.8097, 0.193403, 0.930072, 0.279637, -0.139158, 1, 1, 1, 9.6, 1, -38.7379, 20.8521, -44.984, 0.151132, 0.932955, 0.225414, -0.236521, 1, 1, 1, 10.1, 1, -42.0955, 19.2382, -42.6838, 0.113134, 0.924313, 0.178622, -0.317712, 1, 1, 1, 10.6, 1, -44.7218, 17.6138, -40.0075, 0.0819497, 0.909671, 0.143176, -0.38116, 1, 1, 1, 11, 1, -46.3501, 16.3155, -37.5603, 0.0635016, 0.896459, 0.123085, -0.420926, 1, 1, 1, 11.1, 1, -46.8677, 15.8513, -36.6262, 0.0590819, 0.891871, 0.117678, -0.432697, 1, 1, 1, 11.2, 1, -47.0797, 15.6242, -36.1314, 0.0576025, 0.88973, 0.115485, -0.437865, 1, 1, 1, 11.5, 1, -48.2284, 14.3792, -33.4024, 0.0556333, 0.879434, 0.106204, -0.460676, 1, 1, 1, 12, 1, -49.2417, 12.8206, -29.4352, 0.0541326, 0.864545, 0.0954258, -0.490434, 1, 1, 1, 12.2, 1, -49.3911, 12.4528, -28.3363, 0.0538486, 0.860332, 0.0929749, -0.498282, 1, 1, 1, 12.6, 1, -49.8484, 11.2735, -24.757, -0.0525593, -0.845704, -0.0847879, 0.524245, 1, 1, 1, 13.2, 1, -50.0519, 9.94186, -19.9788, -0.0510932, -0.824423, -0.0754075, 0.558597, 1, 1, 1, 13.6, 1, -49.7425, 8.8576, -16.0477, -0.0493495, -0.805558, -0.067775, 0.586556, 1, 1, 1, 14.1, 1, -48.7507, 7.71581, -12.5643, -0.0465331, -0.788149, -0.0600463, 0.610778, 1, 1, 1, 14.5, 1, -47.2249, 6.57868, -9.62135, -0.0428773, -0.772697, -0.0524937, 0.631146, 1, 1, 1, 14.9, 1, -45.1776, 5.40297, -7.0329, -0.0382328, -0.758233, -0.0446451, 0.649329, 1, 1, 1, 15.2, 1, -42.9157, 4.32397, -5.02187, -0.0331372, -0.74614, -0.0372409, 0.66392, 1, 1, 1, 15.6, 1, -40.3756, 3.26957, -3.36184, -0.0272558, -0.735263, -0.0296195, 0.676586, 1, 1, 1, 15.9, 1, -37.894, 2.34482, -2.13074, -0.0211905, -0.726339, -0.0224155, 0.686645, 1, 1, 1, 16.2, 1, -35.5535, 1.5484, -1.2375, -0.0151076, -0.71913, -0.0156426, 0.694535, 1, 1, 1, 16.5, 1, -33.2809, 0.841513, -0.582791, -0.00885758, -0.713213, -0.00901405, 0.700833, 1, 1, 1, 16.7, 1, -31.6195, 0.369763, -0.22196, -0.00411966, -0.709572, -0.00414868, 0.704609, 1, 1, 1, 16.8, 1, -30.5407, 0.0984778, -0.0503005, -0.00113909, -0.707688, -0.00114097, 0.706523, 1, 1, 1, 16.9, 1, -30.0039, 0.00068614, 0.000473871, -8.10072e-06, -0.707101, -8.10059e-06, 0.707112, 1, 1, 1, 19, 1, -10.0001, 0, 0.000830121, -1.5455e-08, -0.707077, -1.54537e-08, 0.707136, 1, 1, 1, 21, 1, -5, 0, 0, -1.5455e-08, -0.707077, -1.54537e-08, 0.707136, 1, 1, 1 )
tracks/1/type = "value"
tracks/1/path = NodePath("CanvasLayer/Blackout:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 6, 8 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("CanvasLayer/Logo:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 4, 5, 9, 11 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("CanvasLayer/Ident:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 1, 3, 4 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("CameraArm/Camera:fov")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0, 12, 21 ),
"transitions": PoolRealArray( 1, -2, 1 ),
"update": 0,
"values": [ 80.0, 80.0, 35.0 ]
}

[node name="Game" type="Spatial"]
transform = Transform( 0.999999, -0.00100186, 0.000111644, 0.00100177, 0.999999, 0.000779235, -0.000112446, -0.00077912, 1, 0, 0, 0 )
script = ExtResource( 4 )

[node name="FireRing1" parent="." instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 0.866025, -0.5, 0, 0.5, 0.866025, 0.000641823, -0.00718939, 0.00962883 )

[node name="FireRing2" parent="." instance=ExtResource( 3 )]
transform = Transform( -0.5, -0.433013, -0.7575, 0, 0.866025, -0.505, 0.866025, -0.25, -0.437343, 0, 0, 0 )

[node name="FireRing3" parent="." instance=ExtResource( 3 )]
transform = Transform( -0.5, 0.433013, 0.7575, 0, 0.866025, -0.505, -0.866026, -0.25, -0.437343, 0, 0, 0 )

[node name="FireRing4" parent="." instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1.01, 0, -1, -4.41485e-08, 0, 0, 0 )

[node name="ShipArm" type="Spatial" parent="."]
transform = Transform( 1, 4.78195e-11, 1.45519e-11, 1.81657e-10, 1, -1.16415e-10, 0, 0, 1, 0, 0, 0 )
script = ExtResource( 9 )

[node name="TurnArm" type="Spatial" parent="ShipArm"]
transform = Transform( 1, 4.78479e-11, 0, -5.12372e-11, 1, -5.82077e-11, -7.27596e-12, 0, 1, 0, 0, 0 )

[node name="Ship" parent="ShipArm/TurnArm" instance=ExtResource( 8 )]
transform = Transform( -4.35206e-09, -0.1, -1.81899e-12, 0.1, -4.35173e-09, 2.18279e-11, -3.63798e-11, 1.81899e-12, 0.1, -1.1, 3.70683e-10, -1.45519e-11 )

[node name="Camera" type="Camera" parent="ShipArm/TurnArm"]
transform = Transform( -0.000345527, -0.707107, -0.707107, -1, -4.78467e-08, 0.000488693, -0.000345588, 0.707107, -0.707106, -2.5, 0, -1 )
current = true
fov = 90.0

[node name="Orb" type="MeshInstance" parent="."]
mesh = SubResource( 1 )
material/0 = SubResource( 2 )

[node name="Inside" type="MeshInstance" parent="."]
mesh = SubResource( 3 )
skeleton = NodePath("../Orb")
material/0 = SubResource( 4 )

[node name="Inside_2D" type="MeshInstance" parent="."]
visible = false
mesh = SubResource( 3 )
skeleton = NodePath("../Orb")
material/0 = SubResource( 14 )

[node name="Particles_Dust" type="Particles" parent="."]
amount = 5000
lifetime = 5.0
visibility_aabb = AABB( -50, -50, -50, 100, 100, 100 )
process_material = SubResource( 7 )
draw_pass_1 = SubResource( 9 )

[node name="CameraArm" type="Spatial" parent="."]

[node name="Camera" type="Camera" parent="CameraArm"]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -5, 0, 0 )
fov = 35.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 6 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/intro = SubResource( 12 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Blackout" type="ColorRect" parent="CanvasLayer"]
modulate = Color( 1, 1, 1, 0 )
anchor_right = 1.0
anchor_bottom = 1.0
color = Color( 0, 0, 0, 1 )

[node name="Logo" type="TextureRect" parent="CanvasLayer"]
modulate = Color( 1, 1, 1, 0 )
anchor_left = 0.1
anchor_top = 0.1
anchor_right = 0.9
anchor_bottom = 0.9
texture = ExtResource( 5 )
expand = true
stretch_mode = 6

[node name="Ident" type="TextureRect" parent="CanvasLayer"]
modulate = Color( 1, 1, 1, 0 )
anchor_left = 0.3
anchor_top = 0.3
anchor_right = 0.7
anchor_bottom = 0.7
texture = ExtResource( 6 )
expand = true
stretch_mode = 6

[node name="Viewport" type="Viewport" parent="."]
size = Vector2( 256, 128 )
hdr = false
usage = 0
render_target_v_flip = true

[node name="CaveScene" parent="Viewport" instance=ExtResource( 7 )]

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_AnimationPlayer_animation_finished"]
